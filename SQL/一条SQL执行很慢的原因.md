### sql执行慢的原因

* 偶尔执行很慢
* 一直执行很慢

#### 偶尔执行很慢

1 资源空闲的时候执行慢

* 数据库在刷脏页，除每秒一次的刷新脏页外，redo log满了和内存满的情况下，数据库也会被迫刷脏页到磁盘

2 还是资源使用率高的时候，SQL执行必然慢

* 负载高
* 别的慢查询
* 锁（行所、元锁、死锁）

#### 一直执行很慢

1 没有索引可用（相关的字段没有索引）

2 没有合适的索引可用（创建了索引，但是执行器没有使用）

* 过滤条件中使用了函数，计算
* 条件中使用or
* 由于查询的字段需要回表没有使用相应的复合索引

3 执行器选错索引，由于统计失误，导致系统没有走索引或选错索引。

* 扫描行数
* 使用临时表
* 排序

以上等几种情况都会影响执行器的选择

可以通过force index(index_name) 强制走索引检测下效率

也可以通过analyze table t; 重新统计分析